{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nconst selectors = {\n    dateTimePicker: document.querySelector('#datetime-picker'),\n    startButton: document.querySelector('button[data-start]'),\n    days: document.querySelector('span[data-days]'),\n    hours: document.querySelector('span[data-hours]'),\n    minutes: document.querySelector('span[data-minutes]'),\n    seconds: document.querySelector('span[data-seconds]')\n}\n\nlet timeLeft = 0;\nconst addLeadingZero = value => value.toString().padStart(2, '0');\n\nconst options = {\nenableTime: true,\ntime_24hr: true,\ndefaultDate: new Date(),\nminuteIncrement: 1,\n    onClose(selectedDates) {\n        const todayDate = new Date();\n    if(todayDate.getTime() - selectedDates[0].getTime() >= 0) {\n        alert('Please choose a date in the future');        \n        return;\n    } else {\n        selectors.startButton.disabled = false;\n        timeLeft = selectedDates[0].getTime() - todayDate.getTime();\n        selectors.days.textContent = addLeadingZero(convertMs(timeLeft).days);\n        selectors.hours.textContent = addLeadingZero(convertMs(timeLeft).hours);\n        selectors.minutes.textContent = addLeadingZero(convertMs(timeLeft).minutes);\n        selectors.seconds.textContent = addLeadingZero(convertMs(timeLeft).seconds);        \n        }        \n},\n};\n\nselectors.startButton.disabled = true;\nflatpickr(\"#datetime-picker\", options);\nselectors.startButton.addEventListener('click', startButtonHandler);\n\nfunction startButtonHandler() { \n    selectors.startButton.disabled = true;\n    const timerId = setInterval(() => {\n        if (timeLeft < 1000) {\n            clearInterval(timerId);\n        } else {\n            timeLeft -= 1000;\n            selectors.days.textContent = addLeadingZero(convertMs(timeLeft).days);\n            selectors.hours.textContent = addLeadingZero(convertMs(timeLeft).hours);\n            selectors.minutes.textContent = addLeadingZero(convertMs(timeLeft).minutes);\n            selectors.seconds.textContent = addLeadingZero(convertMs(timeLeft).seconds); \n         }\n        \n        \n    }, 1000);        \n}\n\nfunction convertMs(ms) {\n// Number of milliseconds per unit of time\nconst second = 1000;\nconst minute = second * 60;\nconst hour = minute * 60;\nconst day = hour * 24;\n\n// Remaining days\nconst days = Math.floor(ms / day);\n// Remaining hours\nconst hours = Math.floor((ms % day) / hour);\n// Remaining minutes\nconst minutes = Math.floor(((ms % day) % hour) / minute);\n// Remaining seconds\nconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\nreturn { days, hours, minutes, seconds };\n}\n"],"names":["selectors","timeLeft","addLeadingZero","value","options","selectedDates","todayDate","convertMs","flatpickr","startButtonHandler","timerId","ms","days","hours","minutes","seconds"],"mappings":"oGAGA,MAAMA,EAAY,CACd,eAAgB,SAAS,cAAc,kBAAkB,EACzD,YAAa,SAAS,cAAc,oBAAoB,EACxD,KAAM,SAAS,cAAc,iBAAiB,EAC9C,MAAO,SAAS,cAAc,kBAAkB,EAChD,QAAS,SAAS,cAAc,oBAAoB,EACpD,QAAS,SAAS,cAAc,oBAAoB,CACxD,EAEA,IAAIC,EAAW,EACf,MAAMC,EAAiBC,GAASA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAE1DC,EAAU,CAChB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACb,QAAQC,EAAe,CACnB,MAAMC,EAAY,IAAI,KAC1B,GAAGA,EAAU,UAAYD,EAAc,CAAC,EAAE,QAAS,GAAI,EAAG,CACtD,MAAM,oCAAoC,EAC1C,MACR,MACQL,EAAU,YAAY,SAAW,GACjCC,EAAWI,EAAc,CAAC,EAAE,QAAO,EAAKC,EAAU,UAClDN,EAAU,KAAK,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,IAAI,EACpED,EAAU,MAAM,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,KAAK,EACtED,EAAU,QAAQ,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,OAAO,EAC1ED,EAAU,QAAQ,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,OAAO,CAElF,CACA,EAEAD,EAAU,YAAY,SAAW,GACjCQ,EAAU,mBAAoBJ,CAAO,EACrCJ,EAAU,YAAY,iBAAiB,QAASS,CAAkB,EAElE,SAASA,GAAqB,CAC1BT,EAAU,YAAY,SAAW,GACjC,MAAMU,EAAU,YAAY,IAAM,CAC1BT,EAAW,IACX,cAAcS,CAAO,GAErBT,GAAY,IACZD,EAAU,KAAK,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,IAAI,EACpED,EAAU,MAAM,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,KAAK,EACtED,EAAU,QAAQ,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,OAAO,EAC1ED,EAAU,QAAQ,YAAcE,EAAeK,EAAUN,CAAQ,EAAE,OAAO,EAIjF,EAAE,GAAI,CACX,CAEA,SAASM,EAAUI,EAAI,CAQvB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACtC"}